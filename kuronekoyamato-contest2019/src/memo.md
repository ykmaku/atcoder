# ヤマト運輸プログラミングコンテスト2019

## TODO
- コンストラクタを書く

## A問題
### 要約
- グラフが与えられる
  - 道路
  - 交差点
  - 駐車可能地点
  - 配達地点
- クエリ
  - fromからtoへの最短距離を求める
  - 台車は無向グラフ、配達地点から駐車箇所または配達地点
  - 車両は有向グラフ、駐車箇所から駐車箇所
### 制約
- 10sec
- 5<=道路の数<=300
- 10<=交差点の数<=1000
- 2<=駐車可能地点の数<=40
- 4<=配達先の数<=300
- 3<=クエリの数<=120000
- 道路の長さ<=10000
### 考察
- ダイクストラで事前に最短距離を求めておけば十分間に合うはず
- 台車と車両でグラフを分けるのが良さそう
- 車両クエリでは配達地点は無視して良い
- 各道路に対しその道路上でグラフつくる。そのあと交差点情報に基づき全体のグラフを構築する
  - 進入元道路の終点(一番うしろの配達(駐車可能)地点)から進入先道路の始点へつなぐ
- 最寄りの始点が決まれば自動的に決まる


#### 車両クエリ用グラフ
- 一方通行でない道路上の点をどうするか
  - 新しく番号をふる
  - 頂点数はたかだか80個なので間に合う
  - Warshall-Froyd
- fromから最寄りの終点からtoから最寄りの始点までの距離を求めればok
  - あとは点情報から自動で決まるので

#### 台車クエリ用グラフ
- fromの属する端点からtoからの属する端点(toが駐車地点なら最寄りの始点)までの距離を求めればok
  - あとは点情報から自動で決まるので
- 各頂点からbfs
  - $O(n^2)$

#### クエリ
- from,toが同じ道路上のとき
  - 台車クエリのときは差の絶対値
  - 車両クエリのとき
    - from -> toなら差の絶対値
    - from <- to ならグラフ

### 設計
#### 有向道路クラス
- ID
- 始点
- 終点
- 長さ
- {(駐車可能点,始点からの距離、終点までの距離)}
  - ソートしておく
#### 無向道路クラス
- ID
- 始点
- 終点
- 長さ
- {(配達地点+駐車可能地点、始点からの距離、終点までの距離)}
  - ソートしておく
#### グラフクラス
- 交差点において、道路の終点から始点まで長さ0の枝を張る

